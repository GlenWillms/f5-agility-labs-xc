<!DOCTYPE html>
<head>
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PPZPQ6');</script>
  <!-- End Google Tag Manager -->
    <title>Lab 2: Deploying an AWS VPC Site</title>
  

  <meta charset="utf-8">
  <!-- Twitter Bootstrap viewport setting -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- F5 metadata -->
  <meta name="title" content="Lab 2: Deploying an AWS VPC Site"/>
  <meta name="product" content="F5 Distributed Cloud"/>
  <meta name="version" content=""/>
  <meta name="updated_date"  content="2024-01-11 16:12:39"/>
  <meta name="archived" content="Archived documents excluded"/>
  <meta name="doc_type" content="Manual"/>
  <meta name="lifecycle" content="release"/>
  <meta name="F5 Distributed Cloud" content=""/>


  

  
  <link href="https://cdn.f5.com/favicon.ico" rel="icon">

</head>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lab 2: Deploying an AWS VPC Site &#8212; F5 Distributed Cloud  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" href="../../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/f5.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/f5-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/CoveoFullSearch.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/21fb8a09c3.css" type="text/css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="sidebar" class="section-nav">
      
      <!--  version selector ------------------>
      <div id="version_selector_wrapper">
      </div>
      <nav class="nav-sidebartoc">

        
         <h5>F5 Distributed Cloud  </h5>
        

        <hr>
        <span class="nav-sidebartoc">
            <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../class1/class1.html">F5 Distributed Cloud - Introduction to Deployment Models and Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../class2/class2.html">F5 Distributed Cloud - WAF/WAAP Deeper Dive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../class3/class3.html">F5 Distributed Cloud - WAF/WAAP Deeper Dive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../class4/class4.html">F5 Distributed Cloud - WAF/WAAP Deeper Dive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../class5/class5.html">F5 Distributed Cloud - Advanced Bot Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../class6/class6.html">F5 Distributed Cloud - Intro to Multi-Cloud Networking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../class7/class7.html">F5 Distributed Cloud - AppStack CaaS &amp; K8s Delivery Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../class8/class8.html">F5 Distributed Cloud - Introduction to Deployment Models and Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../class9/class9.html">F5 Distributed Cloud - WAF Policy Supervisor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archive.html">Archived F5 Distributed Cloud Labs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../2hour/2hour.html">Two (2) Hour F5 Distributed Cloud Labs</a></li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>


    <div id="right-sidebar">
      <h7 style="font-weight:normal">On this page:</h7>
      <nav class="nav-sidebartoc">
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">Lab 2: Deploying an AWS VPC Site</a><ul>
<li><a class="reference internal" href="#f5-distributed-cloud-aws-vpc-site">F5 Distributed Cloud AWS VPC Site</a><ul>
<li><a class="reference internal" href="#exercise-1-introduction-to-f5-distributed-cloud-aws-vpc-site">Exercise 1: Introduction to F5 Distributed Cloud AWS VPC Site</a></li>
<li><a class="reference internal" href="#exercise-2-f5-distributed-cloud-simulator">Exercise 2: F5 Distributed Cloud Simulator</a></li>
<li><a class="reference internal" href="#exercise-3-optional-video-walkthrough">Exercise 3 (Optional): Video walkthrough</a></li>
</ul>
</li>
</ul>
</li>
</ul>

         </span>
      </nav>
    </div>





  
  <div class="main active" id="content" >
    <article class="docs-container site-article-inner">
              <!-- custom breadcrumb -->
        <h5>
            <a href="../../../index.html">F5 Distributed Cloud</a>

          <span class="right">
             <a href="../../../_sources/archive/2023/class1/lab2.rst.txt" rel="nofollow">Source</a> |
             <a href="https://github.com/f5devcentral/f5-agility-labs-xc">Edit on <i class="fa fa-github" aria-hidden="true"></i></a>
          </span>
        </h5>
        <!-- end custom breadcrumb -->
      


    <!--a title="Export PDF" id="export-pdf" class="btn btn btn-link pull-right">View PDF</a-->
    <button type="button" id="export-pdf" class="btn btn-link right">PDF</button>


    
     
         <div class="sidebar" id="version-warning" style="display: none;">
           <p class="first sidebar-title">
           <span class="icon fa fa-info-circle fa-lg"></span> Version notice:</p>
           <p class="last" id="currentVersion"></p>
          </div>


     <div role="main">
        
  <div class="section" id="lab-2-deploying-an-aws-vpc-site">
<h1>Lab 2: Deploying an AWS VPC Site<a class="headerlink" href="#lab-2-deploying-an-aws-vpc-site" title="Permalink to this heading">¶</a></h1>
<p>In the previous lab you learned how to protect a resource that is already on the Public Internet.</p>
<p>In this lab we will look at two additional topologies where you can use a Customer Edge (CE).</p>
<div class="section" id="f5-distributed-cloud-aws-vpc-site">
<h2>F5 Distributed Cloud AWS VPC Site<a class="headerlink" href="#f5-distributed-cloud-aws-vpc-site" title="Permalink to this heading">¶</a></h2>
<p>In addition to protecting resources using F5 Distributed Cloud WAF/WAAP enforcement at an F5 Regional Edge (RE),
you can also deploy a Customer Edge (CE) that may or may not be exposed to the public Internet.</p>
<p>In this exercise, we will review a CE that has already been deployed in an AWS VPC.
We have also already created a shared F5 Distributed Cloud AWS VPC Site within the Distributed Cloud Console.</p>
<p>Once a CE has been deployed, it unlocks two additional topologies.</p>
<ol class="arabic simple">
<li>Client -&gt; RE -&gt; CE -&gt; Protected resource</li>
</ol>
<p>Leveraging F5 Distributed Cloud REs to provide WAF and other services upstream,
then proxying the clean traffic to the protected resource via the CE.  It is recommended that a firewall rule be placed at the site with the CE
to only allow traffic from an RE.  This ensures that all traffic is scrubbed upstream before entering the site.</p>
<ol class="arabic simple" start="2">
<li>Client -&gt; CE -&gt; Protected resource</li>
</ol>
<p>In this scenario, the CE advertises the services directly.  While this topology sacrifices some functionality such as
volumetric DDoS protection and anycast availability from the Distributed Cloud global network, there are some use cases where it can be beneficial.
One such example is when clients and protected resources are both local to each other without having to traverse the Internet.</p>
<p>With either toplogy, two encrypted tunnels are automatically created between the CE and the two closest REs.  These redundant tunnels provide
high availability in the unlikely event of an outage at a specific RE within the Distributed Cloud global network.</p>
<p>In the event of an Internet outage at a CE site, local survivability will continue to provide data plane services locally for a period of time.
During this time, control plane services are suspended and will resume upon Internet connection reestablishment.</p>
<p>While a single CE may be adequate for non-production environments, a high-availability cluster of at least 3 CE’s is highly recommended for production.</p>
<div class="section" id="exercise-1-introduction-to-f5-distributed-cloud-aws-vpc-site">
<h3>Exercise 1: Introduction to F5 Distributed Cloud AWS VPC Site<a class="headerlink" href="#exercise-1-introduction-to-f5-distributed-cloud-aws-vpc-site" title="Permalink to this heading">¶</a></h3>
<ol class="arabic">
<li><p class="first">Start in F5 Distributed Cloud Console and find the “AWS VPC Sites” menu item.</p>
<p>From the top left “Select service” and look under “All Services”-&gt;”Multi-Cloud Network Connect”</p>
<a class="reference internal image-reference" href="../../../_images/menu_multi_cloud_network_connect.png"><img alt="../../../_images/menu_multi_cloud_network_connect.png" src="../../../_images/menu_multi_cloud_network_connect.png" style="width: 50%;" /></a>
</li>
<li><p class="first">Go to Manage &gt; Site Management &gt; AWS VPC Sites</p>
<a class="reference internal image-reference" href="../../../_images/menu_aws_vpcsites.png"><img alt="../../../_images/menu_aws_vpcsites.png" src="../../../_images/menu_aws_vpcsites.png" style="width: 50%;" /></a>
</li>
<li><p class="first">Find the “student-awsnet” site</p>
<p>In this lab environment we have already deployed a shared AWS VPC Site that we will
use in this lab.  Click on “student-awsnet”.</p>
<a class="reference internal image-reference" href="../../../_images/student-awsnet-link.png"><img alt="../../../_images/student-awsnet-link.png" src="../../../_images/student-awsnet-link.png" style="width: 75%;" /></a>
<p>You will be able to observe several metrics about the health of the site.
Spend a few minutes navigating the tabs at the top of the screen, to the right of the “Dashboard” tab.</p>
<a class="reference internal image-reference" href="../../../_images/student-awsnet-site-metrics1.png"><img alt="../../../_images/student-awsnet-site-metrics1.png" src="../../../_images/student-awsnet-site-metrics1.png" style="width: 75%;" /></a>
<p>NOTE:  The health shown is specific to the CE site and the performance data shown
is an aggregate of all applications whose data is passing through this CE.</p>
</li>
</ol>
</div>
<div class="section" id="exercise-2-f5-distributed-cloud-simulator">
<h3>Exercise 2: F5 Distributed Cloud Simulator<a class="headerlink" href="#exercise-2-f5-distributed-cloud-simulator" title="Permalink to this heading">¶</a></h3>
<p>Since the AWS site in this lab was pre-built for you, take a few minutes to walk through the process using the
F5 Distributed Cloud Simulator.</p>
<p><a class="reference external" href="https://simulator.f5.com/s/cloud2cloud_via_sites_brownfield/nav/aws/005/0">https://simulator.f5.com/s/cloud2cloud_via_sites_brownfield/nav/aws/005/0</a></p>
<p>Clicking on the “Next” button in the top right of the simulator will allow you to see similar steps that were used to create the site.</p>
<a class="reference internal image-reference" href="../../../_images/f5xc-simulator-vpc-site1.png"><img alt="../../../_images/f5xc-simulator-vpc-site1.png" src="../../../_images/f5xc-simulator-vpc-site1.png" style="width: 75%;" /></a>
</div>
<div class="section" id="exercise-3-optional-video-walkthrough">
<h3>Exercise 3 (Optional): Video walkthrough<a class="headerlink" href="#exercise-3-optional-video-walkthrough" title="Permalink to this heading">¶</a></h3>
<p>NOTE:  The term Distributed Cloud reflects the updated branding launched in 2022.  Prior to that, the platform was called Volterra.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/s-BHH0Qayfc?start=244" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
</div>
</div>


     </div>
    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../../../_static/js/index.js"></script>
  <script src="../../../_static/js/jquery.appear.js"></script>
  <script src="../../../_static/js/printThis.js"></script>
  <script src="../../../_static/js/bootstrap.min.js"></script>
  <script src="../../../_static/js/clouddocs.js"></script>
  <script src="../../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
  </body>
</html>